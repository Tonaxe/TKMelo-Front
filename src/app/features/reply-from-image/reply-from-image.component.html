<div class="card" appAnimateOnScroll>
    <h3>Responder desde imagen</h3>
    <p class="dim">Sube una captura del chat y te sugerimos la mejor respuesta.</p>

    <div class="tones">
        <label><input type="radio" name="toneImg" [(ngModel)]="tone" value="gracioso"> Gracioso</label>
        <label><input type="radio" name="toneImg" [(ngModel)]="tone" value="directo"> Directo</label>
        <label><input type="radio" name="toneImg" [(ngModel)]="tone" value="romantico"> Romántico</label>
    </div>

    <app-upload-box (fileSelected)="onFile($event)"></app-upload-box>

    <div class="uploader" *ngIf="previewUrl" style="margin:.6rem 0">
        <img [src]="previewUrl" alt="preview"
            style="max-height:120px; border-radius:8px; border:1px solid var(--color-border); justify-self: anchor-center;">
    </div>

    <button class="btn" type="button" style="margin-top:1rem;" (click)="analyze()" [disabled]="loading || !file">
        {{ loading ? 'Analizando…' : 'Analizar y sugerir' }}
    </button>

    <div *ngIf="error" class="error">{{ error }}</div>

    <div class="card result" style="margin-top:1rem;" *ngIf="bestReply">
        <strong>Respuesta sugerida:</strong>
        <p>“{{ bestReply }}”</p>
        <button class="ghost" (click)="copy(bestReply)">Copiar</button>
    </div>
</div>